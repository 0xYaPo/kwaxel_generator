{
  "version": 3,
  "sources": ["../../../../src/methods/initApp/gastStationMetadata/setGasStationMetadata.ts"],
  "sourcesContent": ["import { getGasStationMetadataFromApi } from 'apiCalls/configuration/getGasStationMetadata';\nimport { initializeNetworkConfig } from 'store/actions/network/networkActions';\nimport { networkSelector } from 'store/selectors/networkSelectors';\nimport { getState } from 'store/store';\n\ninterface ISetGasStationMetadataParams {\n  shard: number;\n  apiAddress: string;\n}\n\nexport async function setGasStationMetadata({\n  shard,\n  apiAddress\n}: ISetGasStationMetadataParams) {\n  if (shard == null) {\n    return;\n  }\n\n  try {\n    const fetchedGasMetadata = await getGasStationMetadataFromApi(\n      shard,\n      apiAddress\n    );\n\n    if (!fetchedGasMetadata?.[shard]?.lastBlock) {\n      return;\n    }\n\n    const network = networkSelector(getState());\n\n    const hasDifferentGasStationMetadata =\n      !network.gasStationMetadata ||\n      !network.gasStationMetadata[shard] ||\n      network.gasStationMetadata[shard].lastBlock !==\n        fetchedGasMetadata[shard].lastBlock;\n\n    if (hasDifferentGasStationMetadata) {\n      initializeNetworkConfig({\n        ...network,\n        gasStationMetadata: {\n          ...network.gasStationMetadata,\n          ...fetchedGasMetadata\n        }\n      });\n    }\n  } catch (err) {\n    console.error('Error fetching gas station metadata:', err);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA6C;AAC7C,4BAAwC;AACxC,8BAAgC;AAChC,mBAAyB;AAOzB,eAAsB,sBAAsB;AAAA,EAC1C;AAAA,EACA;AACF,GAAiC;AAC/B,MAAI,SAAS,MAAM;AACjB;AAAA,EACF;AAEA,MAAI;AACF,UAAM,qBAAqB,UAAM;AAAA,MAC/B;AAAA,MACA;AAAA,IACF;AAEA,QAAI,CAAC,qBAAqB,KAAK,GAAG,WAAW;AAC3C;AAAA,IACF;AAEA,UAAM,cAAU,6CAAgB,uBAAS,CAAC;AAE1C,UAAM,iCACJ,CAAC,QAAQ,sBACT,CAAC,QAAQ,mBAAmB,KAAK,KACjC,QAAQ,mBAAmB,KAAK,EAAE,cAChC,mBAAmB,KAAK,EAAE;AAE9B,QAAI,gCAAgC;AAClC,yDAAwB;AAAA,QACtB,GAAG;AAAA,QACH,oBAAoB;AAAA,UAClB,GAAG,QAAQ;AAAA,UACX,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF,SAAS,KAAK;AACZ,YAAQ,MAAM,wCAAwC,GAAG;AAAA,EAC3D;AACF;",
  "names": []
}
