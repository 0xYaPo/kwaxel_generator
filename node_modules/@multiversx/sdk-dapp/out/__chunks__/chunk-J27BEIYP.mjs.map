{
  "version": 3,
  "sources": ["../../src/managers/internal/WalletConnectStateManager/WalletConnectStateManager.ts"],
  "sourcesContent": ["import { UITagsEnum } from 'constants/UITags.enum';\nimport { MvxWalletConnect } from 'lib/sdkDappUi';\nimport { UnlockPanelEventsEnum } from 'managers/UnlockPanelManager/UnlockPanelManager.types';\nimport {\n  WalletConnectEventsEnum,\n  IWalletConnectModalData\n} from 'providers/strategies/WalletConnectProviderStrategy/types/walletConnect.types';\nimport { UIBaseManager } from '../UIBaseManager/UIBaseManager';\n\nexport class WalletConnectStateManager extends UIBaseManager<\n  MvxWalletConnect,\n  IWalletConnectModalData,\n  WalletConnectEventsEnum\n> {\n  private static instance: WalletConnectStateManager;\n\n  protected initialData: IWalletConnectModalData = {\n    wcURI: '',\n    walletConnectDeepLink: ''\n  };\n\n  public static getInstance(): WalletConnectStateManager {\n    if (!WalletConnectStateManager.instance) {\n      WalletConnectStateManager.instance = new WalletConnectStateManager();\n    }\n    return WalletConnectStateManager.instance;\n  }\n\n  constructor() {\n    super({\n      uiDataUpdateEvent: WalletConnectEventsEnum.DATA_UPDATE,\n      uiTag: UITagsEnum.WALLET_CONNECT\n    });\n    this.data = { ...this.initialData };\n  }\n\n  public handleClose(options?: { isLoginFinished?: boolean }) {\n    if (options?.isLoginFinished) {\n      return;\n    }\n\n    if (this.anchor) {\n      this.anchor.dispatchEvent(\n        new CustomEvent(UnlockPanelEventsEnum.ANCHOR_CLOSE, {\n          composed: false,\n          bubbles: false\n        })\n      );\n    } else {\n      this.destroy();\n    }\n  }\n\n  protected async setupEventListeners() {\n    if (!this.eventBus) {\n      return;\n    }\n\n    this.eventBus.subscribe(\n      WalletConnectEventsEnum.CLOSE,\n      this.handleClose.bind(this)\n    );\n\n    this.eventBus.subscribe(\n      WalletConnectEventsEnum.UI_DISCONNECTED,\n      this.destroy.bind(this)\n    );\n  }\n}\n"],
  "mappings": "yCASO,IAAMA,EAAN,MAAMC,UAAkCC,CAI7C,CAeA,aAAc,CACZ,MAAM,CACJ,gCACA,0BACF,CAAC,EAhBH,KAAU,YAAuC,CAC/C,MAAO,GACP,sBAAuB,EACzB,EAcE,KAAK,KAAO,CAAE,GAAG,KAAK,WAAY,CACpC,CAbA,OAAc,aAAyC,CACrD,OAAKD,EAA0B,WAC7BA,EAA0B,SAAW,IAAIA,GAEpCA,EAA0B,QACnC,CAUO,YAAYE,EAAyC,CACtDA,GAAS,kBAIT,KAAK,OACP,KAAK,OAAO,cACV,IAAI,2BAAgD,CAClD,SAAU,GACV,QAAS,EACX,CAAC,CACH,EAEA,KAAK,QAAQ,EAEjB,CAEA,MAAgB,qBAAsB,CAC/B,KAAK,WAIV,KAAK,SAAS,kBAEZ,KAAK,YAAY,KAAK,IAAI,CAC5B,EAEA,KAAK,SAAS,4BAEZ,KAAK,QAAQ,KAAK,IAAI,CACxB,EACF,CACF",
  "names": ["WalletConnectStateManager", "_WalletConnectStateManager", "UIBaseManager", "options"]
}
