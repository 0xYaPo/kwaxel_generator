{
  "version": 3,
  "sources": ["../../src/methods/trackTransactions/helpers/checkTransactionStatus/manageFailedTransactions.ts"],
  "sourcesContent": ["import {\n  updateTransactionStatus,\n  updateSessionStatus\n} from 'store/actions/transactions/transactionsActions';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums.types';\nimport { ResultType } from 'types/serverTransactions.types';\nimport { SignedTransactionType } from 'types/transactions.types';\nimport { runSessionCallbacks } from './runSessionCallbacks';\n\nexport async function manageFailedTransactions({\n  results,\n  hash,\n  sessionId\n}: {\n  results: ResultType[];\n  hash: string;\n  sessionId: string;\n}) {\n  const resultWithError = results?.find(\n    (scResult) => scResult?.returnMessage !== ''\n  );\n\n  updateTransactionStatus({\n    sessionId,\n    transaction: {\n      ...(resultWithError as unknown as SignedTransactionType),\n      hash,\n      status: TransactionServerStatusesEnum.fail,\n      inTransit: false\n    }\n  });\n\n  updateSessionStatus({\n    sessionId,\n    status: TransactionBatchStatusesEnum.fail,\n    errorMessage: resultWithError?.returnMessage\n  });\n\n  await runSessionCallbacks({\n    sessionId,\n    status: TransactionBatchStatusesEnum.fail\n  });\n}\n"],
  "mappings": "yFAYA,eAAsBA,EAAyB,CAC7C,QAAAC,EACA,KAAAC,EACA,UAAAC,CACF,EAIG,CACD,IAAMC,EAAkBH,GAAS,KAC9BI,GAAaA,GAAU,gBAAkB,EAC5C,EAEAC,EAAwB,CACtB,UAAAH,EACA,YAAa,CACX,GAAIC,EACJ,KAAAF,EACA,cACA,UAAW,EACb,CACF,CAAC,EAEDK,EAAoB,CAClB,UAAAJ,EACA,cACA,aAAcC,GAAiB,aACjC,CAAC,EAED,MAAMI,EAAoB,CACxB,UAAAL,EACA,aACF,CAAC,CACH",
  "names": ["manageFailedTransactions", "results", "hash", "sessionId", "resultWithError", "scResult", "updateTransactionStatus", "updateSessionStatus", "runSessionCallbacks"]
}
