{
  "version": 3,
  "sources": ["../../src/utils/transactions/getInterpretedTransaction/getTransactionValue/helpers/getValueFromDataField.ts"],
  "sourcesContent": ["import BigNumber from 'bignumber.js';\nimport { InterpretedTransactionType } from 'types/serverTransactions.types';\nimport { decodeBase64 } from 'utils/decoders';\nimport { getEgldValueData } from './getEgldValueData';\n\nlet warningLogged = false;\n\nexport function getValueFromDataField(transaction: InterpretedTransactionType) {\n  try {\n    const data = decodeBase64(transaction.data);\n    const encodedValue = data.replace(`${transaction.action?.name}@`, '');\n    const value = new BigNumber(encodedValue, 16);\n    if (!value.isNaN()) {\n      return getEgldValueData(value.toString(10));\n    }\n  } catch {\n    if (!warningLogged) {\n      console.error(\n        `Unable to extract value for txHash: ${transaction.txHash}`\n      );\n      warningLogged = true;\n    }\n  }\n\n  // fallback on transaction value\n  return getEgldValueData(transaction.value);\n}\n"],
  "mappings": "kFAAA,OAAOA,MAAe,eAKtB,IAAIC,EAAgB,GAEb,SAASC,EAAsBC,EAAyC,CAC7E,GAAI,CAEF,IAAMC,EADOC,EAAaF,EAAY,IAAI,EAChB,QAAQ,GAAGA,EAAY,QAAQ,IAAI,IAAK,EAAE,EAC9DG,EAAQ,IAAIC,EAAUH,EAAc,EAAE,EAC5C,GAAI,CAACE,EAAM,MAAM,EACf,OAAOE,EAAiBF,EAAM,SAAS,EAAE,CAAC,CAE9C,MAAQ,CACDL,IACH,QAAQ,MACN,uCAAuCE,EAAY,MAAM,EAC3D,EACAF,EAAgB,GAEpB,CAGA,OAAOO,EAAiBL,EAAY,KAAK,CAC3C",
  "names": ["BigNumber", "warningLogged", "getValueFromDataField", "transaction", "encodedValue", "decodeBase64", "value", "BigNumber", "getEgldValueData"]
}
